name: executor_test
version: 0.0.0
publish_to: none

environment:
  sdk: ">=3.3.0 <4.0.0"

dev_dependencies:
  ffigen: ^11.0.0

dependencies:
  ffi: ^2.1.0
  test: ^1.22.0
  core:
    path: ../../../core/dart/
  memory:
    path: ../../../memory/dart/
  executor:
    path: ../../dart/
  collection: ^1.18.0
  message_pack_dart: ^2.0.1

ffigen:
  name: "TestBindings"
  ffi-native:
    assetId: "executor-bindings-test"
  description: "Bindings for Test"
  output: "lib/bindings.dart"
  compiler-opts:
    - "-I../../native/include"
  globals:
    exclude:
      - "(.*)"
  macros:
    exclude:
      - "(.*)"
  typedefs:
    exclude:
      - "_(.*)"
  type-map:
    structs:
      "executor_task":
        lib: "executor"
        c-type: "executor_task"
        dart-type: "executor_task"
  library-imports:
    executor: package:executor/executor.dart
  headers:
    entry-points:
      - "../native/test.h"
      - "../native/test_call.h"
      - "../native/test_threading.h"
  functions:
    leaf:
      include:
        - "test_.*"